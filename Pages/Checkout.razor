@page "/checkout"
@using PizzaOrderApp.Services
@using PizzaOrderApp.Components
@inject OrderService OrderService
@inject NavigationManager NavManager

<PageTitle>Ã–deme EkranÄ±</PageTitle>

<div class="container mt-5 checkout-page">
    <div class="page-header">
        <h3 class="page-title"><i class="bi bi-credit-card-fill me-2"></i>SipariÅŸi Tamamla ve Ã–de</h3>
        <p class="page-subtitle">Teslimat ve Ã¶deme bilgilerinizi girerek sipariÅŸinizi onaylayÄ±n.</p>
    </div>

    @if (OrderService.CurrentOrder.SelectedPizza == null || OrderService.CurrentOrder.SelectedSize == null)
    {
        <div class="alert alert-danger custom-error-alert" role="alert">
            <h4 class="alert-heading"><i class="bi bi-bag-x-fill me-2"></i>SipariÅŸ BulunamadÄ±!</h4>
            <p>LÃ¼tfen menÃ¼ye dÃ¶nerek bir pizza seÃ§imi yapÄ±n ve boyutunu Ã¶zelleÅŸtirin.</p>
            <button class="btn btn-primary-alt mt-3" @onclick='() => NavManager.NavigateTo("/pizzas")'>
                ğŸ• MenÃ¼ye DÃ¶n
            </button>
        </div>
    }
    else
    {
        <div class="row g-5 checkout-content">
            <div class="col-lg-7 order-lg-1">
                <div class="checkout-card form-card">
                    <CustomerForm />
                </div>
            </div>
            <div class="col-lg-5 order-lg-2">
                <div class="sticky-summary">
                    <OrderSummary />
                </div>
            </div>
        </div>
    }
</div>